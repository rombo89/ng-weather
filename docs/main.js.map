{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/app.component.ts","./src/app/app.module.ts","./src/app/app.routing.ts","./src/app/components/cache-time-entry/cache-time-entry.component.ts","./src/app/components/current-conditions-data/current-conditions-data.component.ts","./src/app/components/current-conditions/current-conditions.component.ts","./src/app/components/forecasts-list/forecasts-list.component.ts","./src/app/components/main-page/main-page.component.ts","./src/app/components/tab-group/tab-group.component.ts","./src/app/components/tab-item/tab-item.component.ts","./src/app/components/zipcode-entry/zipcode-entry.component.ts","./src/app/interfaces/location-state.type.ts","./src/app/services/cache.service.ts","./src/app/services/location.service.ts","./src/app/services/weather.service.ts","./src/environments/environment.ts","./src/main.ts","./src/app/components/cache-time-entry/cache-time-entry.component.css","./src/app/components/current-conditions-data/current-conditions-data.component.css","./src/app/components/current-conditions/current-conditions.component.css","./src/app/components/forecasts-list/forecasts-list.component.css","./src/app/components/tab-group/tab-group.component.css","./src/app/components/tab-item/tab-item.component.css","./src/app/components/zipcode-entry/zipcode-entry.component.css"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { CacheTimeEntryComponent } from './components/cache-time-entry/cache-time-entry.component';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html'\r\n})\r\nexport class AppComponent {\r\n\r\n  constructor(private modalService: NgbModal) { }\r\n\r\n  openCacheTimeModal(): void {\r\n    this.modalService.open(CacheTimeEntryComponent);\r\n  }\r\n}\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { InjectionToken, NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { ZipcodeEntryComponent } from './components/zipcode-entry/zipcode-entry.component';\r\nimport { LocationService } from \"./services/location.service\";\r\nimport { ForecastsListComponent } from './components/forecasts-list/forecasts-list.component';\r\nimport { WeatherService } from \"./services/weather.service\";\r\nimport { CurrentConditionsComponent } from './components/current-conditions/current-conditions.component';\r\nimport { MainPageComponent } from './components/main-page/main-page.component';\r\nimport { RouterModule } from \"@angular/router\";\r\nimport { routing } from \"./app.routing\";\r\nimport { HttpClientModule } from \"@angular/common/http\";\r\nimport { ServiceWorkerModule } from '@angular/service-worker';\r\nimport { environment } from '../environments/environment';\r\nimport { TabItemComponent } from './components/tab-item/tab-item.component';\r\nimport { TabGroupComponent } from './components/tab-group/tab-group.component';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CacheService } from './services/cache.service';\r\nimport { CurrentConditionsDataComponent } from './components/current-conditions-data/current-conditions-data.component';\r\nimport { CacheTimeEntryComponent } from './components/cache-time-entry/cache-time-entry.component';\r\n\r\nexport const CACHE_TIME_MINUTES = new InjectionToken<number>('cacheTime');\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    BrowserModule,\r\n    FormsModule,\r\n    HttpClientModule,\r\n    RouterModule,\r\n    routing,\r\n    ServiceWorkerModule.register('/ngsw-worker.js', { enabled: environment.production })\r\n  ],\r\n  declarations: [\r\n    AppComponent,\r\n    ZipcodeEntryComponent,\r\n    ForecastsListComponent,\r\n    CurrentConditionsComponent,\r\n    MainPageComponent,\r\n    TabItemComponent,\r\n    TabGroupComponent,\r\n    CurrentConditionsDataComponent,\r\n    CacheTimeEntryComponent\r\n  ],\r\n  providers: [\r\n    { provide: CACHE_TIME_MINUTES, useValue: 120 }, // 2 Hours, default value\r\n    CacheService,\r\n    LocationService,\r\n    WeatherService\r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { ModuleWithProviders }  from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport {ForecastsListComponent} from \"./components/forecasts-list/forecasts-list.component\";\r\nimport {MainPageComponent} from \"./components/main-page/main-page.component\";\r\n\r\nconst appRoutes: Routes = [\r\n  {\r\n    path: '', component: MainPageComponent\r\n  },\r\n  {\r\n    path: 'forecast/:zipcode', component: ForecastsListComponent\r\n  }\r\n];\r\nexport const routing: ModuleWithProviders<any> = RouterModule.forRoot(appRoutes, {});\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { CacheService } from 'app/services/cache.service';\r\n\r\n@Component({\r\n  selector: 'app-cache-time-entry',\r\n  templateUrl: './cache-time-entry.component.html',\r\n  styleUrls: ['./cache-time-entry.component.css']\r\n})\r\nexport class CacheTimeEntryComponent implements OnInit {\r\n\r\n  model: { cacheTime: number };\r\n  constructor(private cacheService: CacheService, private activeModal: NgbActiveModal) { }\r\n\r\n  ngOnInit(): void {\r\n    // Get the cache value\r\n    this.model = { cacheTime: this.cacheService.getCacheTime() };\r\n  }\r\n\r\n  /**\r\n   * Save function:\r\n   * - Edit the cache time;\r\n   * - Clear the local storage, remove the application data cached;\r\n   * - Close the modal;\r\n   */\r\n  save(): void {\r\n    if (this.model?.cacheTime) {\r\n      this.cacheService.setCacheTime(this.model.cacheTime);\r\n      this.cacheService.cleanLocalStorage(); \r\n      this.close();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Close the modal\r\n   */\r\n  close(): void {\r\n    this.activeModal.close();\r\n  }\r\n}\r\n","import { Component, Input } from '@angular/core';\r\n\r\n/**\r\n * Current condition detail component\r\n * - Show the current condition data\r\n */\r\n\r\n@Component({\r\n  selector: 'app-current-conditions-data',\r\n  templateUrl: './current-conditions-data.component.html',\r\n  styleUrls: ['./current-conditions-data.component.css']\r\n})\r\nexport class CurrentConditionsDataComponent {\r\n\r\n  @Input() location: CurrentConditionsDataComponent; // conditions data\r\n\r\n  @Input() imgSrc: string; // img src\r\n\r\n}\r\n","import { Component, computed, inject, Signal } from '@angular/core';\r\nimport { WeatherService } from \"../../services/weather.service\";\r\nimport { LocationService } from \"../../services/location.service\";\r\nimport { ConditionsAndZip } from '../../interfaces/conditions-and-zip.type';\r\n\r\n@Component({\r\n  selector: 'app-current-conditions',\r\n  templateUrl: './current-conditions.component.html',\r\n  styleUrls: ['./current-conditions.component.css']\r\n})\r\nexport class CurrentConditionsComponent {\r\n\r\n  private weatherService = inject(WeatherService);\r\n  protected locationService = inject(LocationService);\r\n  protected currentConditionsByZip: Signal<ConditionsAndZip[]> = this.weatherService.getCurrentConditions();\r\n  protected currentConditionsPresents = computed(() => this.currentConditionsByZip().length > 0);\r\n\r\n  /**\r\n   * Remove Location by index\r\n   * @param title \r\n   */\r\n  removeLocation(index: number): void {\r\n    this.locationService.removeLocation(index);\r\n  }\r\n\r\n\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { WeatherService } from '../../services/weather.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Forecast } from '../../interfaces/forecast.type';\r\n\r\n@Component({\r\n  selector: 'app-forecasts-list',\r\n  templateUrl: './forecasts-list.component.html',\r\n  styleUrls: ['./forecasts-list.component.css']\r\n})\r\nexport class ForecastsListComponent {\r\n\r\n  zipcode: string;\r\n  forecast: Forecast;\r\n\r\n  constructor(protected weatherService: WeatherService, route: ActivatedRoute) {\r\n    route.params.subscribe(params => {\r\n      this.zipcode = params['zipcode'];\r\n      weatherService.getForecast(this.zipcode)\r\n        .subscribe(data => this.forecast = data);\r\n    });\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-main-page',\r\n  templateUrl: './main-page.component.html'\r\n})\r\nexport class MainPageComponent {\r\n\r\n}\r\n","import { AfterContentInit, Component, ContentChildren, EventEmitter, Input, Output, QueryList } from '@angular/core';\r\nimport { TabItemComponent } from 'app/components/tab-item/tab-item.component';\r\n\r\n@Component({\r\n  selector: 'app-tab-group',\r\n  templateUrl: './tab-group.component.html',\r\n  styleUrls: ['./tab-group.component.css']\r\n})\r\nexport class TabGroupComponent implements AfterContentInit {\r\n\r\n  @Input() isClosable = false; // tabs not closable by default\r\n  @Output() onCloseTab?: EventEmitter<number> = new EventEmitter();\r\n\r\n  @ContentChildren(TabItemComponent) items: QueryList<TabItemComponent>; // List of TabItemComponent;\r\n\r\n  /**\r\n   * Show the content of an active tab:\r\n   * - Activate the first if there isn't an active tab\r\n   */\r\n  ngAfterContentInit(): void {\r\n    if (this.items.length) {\r\n      const activeTabs = this.items.filter(tab => tab.isActive);\r\n      if (activeTabs.length === 0) {\r\n        this.activateTabItem(this.items.first);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Activate the tab selected by the user\r\n   * - Deactivate all\r\n   * - Activate selected tab\r\n   * @param tab the selected tab\r\n   */\r\n  activateTabItem(tab: TabItemComponent): void {\r\n    this.items.toArray().forEach(tab => tab.isActive = false);\r\n    tab.isActive = true;\r\n  }\r\n\r\n  /**\r\n   * Close the tab by index:\r\n   * - If the tab closed was active, the first tab became active\r\n   * @param index \r\n   */\r\n  closeTab(index: number): void {\r\n    if (this.items.toArray()[index].isActive && this.items.length > 1) {\r\n      if (index == 0) {\r\n        this.activateTabItem(this.items.toArray()[index + 1]);\r\n      } else {\r\n        this.activateTabItem(this.items.first);\r\n      }\r\n    }\r\n    this.onCloseTab.emit(index);\r\n  }\r\n\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n} from \"@angular/core\";\r\n\r\n@Component({\r\n  selector: 'app-tab-item',\r\n  templateUrl: './tab-item.component.html',\r\n  styleUrls: ['./tab-item.component.css']\r\n})\r\nexport class TabItemComponent {\r\n\r\n  @Input() title: string;\r\n\r\n  protected _tabActive = false;\r\n  @Input() set isActive(isActive: boolean) {\r\n    setTimeout(() => {\r\n      this._tabActive = isActive;\r\n    }, 0);\r\n  }\r\n\r\n  get isActive(): boolean {\r\n    return this._tabActive;\r\n  }\r\n\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { LocationService } from \"../../services/location.service\";\r\n\r\n@Component({\r\n  selector: 'app-zipcode-entry',\r\n  templateUrl: './zipcode-entry.component.html',\r\n  styleUrls: ['./zipcode-entry.component.css']\r\n})\r\nexport class ZipcodeEntryComponent {\r\n\r\n  model = { zipcode: '' }; // Zipcode model input \r\n  constructor(private service: LocationService) { }\r\n\r\n  addLocation(): void {\r\n    if (this.model.zipcode) {\r\n      this.service.addLocation(this.model.zipcode);\r\n    }\r\n  }\r\n\r\n}\r\n","/**\r\n * Location state model to notificate the changes\r\n * - Use the index to remove because the user can add multiple identical locations/zipcode\r\n */\r\nexport interface ILocationState {\r\n    locations: string[];\r\n    action?: LocationAction;\r\n    zipcodeAdded?: string;\r\n    zipcodeIndexRemoved?: number; \r\n};\r\n\r\nexport enum LocationAction { ADD, REMOVE };\r\n","import { Inject, Injectable } from '@angular/core'\r\nimport { CACHE_TIME_MINUTES } from '../app.module';\r\nimport { ILocalStorageCache } from 'app/interfaces/local-storage-cache.type';\r\n\r\n@Injectable()\r\nexport class CacheService {\r\n\r\n    constructor(@Inject(CACHE_TIME_MINUTES) private cacheTime: number) { }\r\n\r\n    /**\r\n     * Get cached data from local storage\r\n     * @param key \r\n     * @returns data if exists and if it isn't expired, null otherwise\r\n     */\r\n    get(key: string): any {\r\n        const item = localStorage.getItem(key);\r\n        if (item !== null) {\r\n            const record = JSON.parse(item);\r\n            const now = new Date().getTime();\r\n            if (record.hasExpiration && record.expiration > now) {\r\n                return JSON.parse(record.value);\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * Save on the local storage the data\r\n     * - Set the expiration time if presents\r\n     * @param opts cache data\r\n     */\r\n    put(opts: ILocalStorageCache): void {\r\n        const expirationMins = opts.expirationMins ?? this.cacheTime; // Cache time (minutes)\r\n        const expirationMS = expirationMins !== 0 ? (expirationMins * 60 * 1000) : 0; // Convert in miliseconds \r\n        const record = {\r\n            expiration: expirationMS !== 0 ? new Date().getTime() + expirationMS : null,\r\n            hasExpiration: expirationMS !== 0 ? true : false,\r\n            value: typeof opts.data === 'string' ? opts.data : JSON.stringify(opts.data),\r\n        }\r\n        localStorage.setItem(opts.key, JSON.stringify(record));\r\n    }\r\n\r\n    /**\r\n     * GET the cache time\r\n     * @returns the cache time value\r\n     */\r\n    getCacheTime(): number{\r\n        return this.cacheTime;\r\n    }\r\n\r\n    /**\r\n     * Set the cache time (by cache-time-entry component)\r\n     * @param cacheTime \r\n     */\r\n    setCacheTime(cacheTime: number): void {\r\n        this.cacheTime = cacheTime;\r\n    }\r\n\r\n    /**\r\n     * Remove a record from local storage\r\n     * @param key \r\n     */\r\n    remove(key: string) {\r\n        localStorage.removeItem(key);\r\n    }\r\n\r\n    /**\r\n     * Clean local storage\r\n     */\r\n    cleanLocalStorage() {\r\n        localStorage.clear();\r\n    }\r\n}\r\n\r\n","import { Injectable, signal } from '@angular/core';\r\nimport { ILocationState, LocationAction } from '../interfaces/location-state.type';\r\n\r\nexport const LOCATIONS: string = \"locations\";\r\n\r\n@Injectable()\r\nexport class LocationService {\r\n\r\n  private _locations: string[] = [];\r\n  locationState = signal<ILocationState>({ locations: [] });\r\n\r\n  constructor() {\r\n    const locString = localStorage.getItem(LOCATIONS);\r\n    if (locString) {\r\n      this._locations = JSON.parse(locString);\r\n      this.locationState.set({ locations: this._locations }); // Set the location list\r\n    }\r\n  }\r\n\r\n  addLocation(zipcode: string) {\r\n    this._locations.push(zipcode);\r\n    localStorage.setItem(LOCATIONS, JSON.stringify(this._locations));\r\n    this.locationState.update(state => {\r\n      return {\r\n        locations: [...state.locations, zipcode],\r\n        action: LocationAction.ADD,\r\n        zipcodeAdded: zipcode\r\n      }\r\n    });\r\n  }\r\n\r\n  removeLocation(index: number) {\r\n    this._locations.splice(index, 1);\r\n    localStorage.setItem(LOCATIONS, JSON.stringify(this._locations));\r\n    this.locationState.mutate(state => {\r\n      state.locations.splice(index, 1);\r\n      state.action = LocationAction.REMOVE;\r\n      state.zipcodeIndexRemoved = index;\r\n    }\r\n    );\r\n  }\r\n\r\n}\r\n","import { Injectable, Signal, effect, signal } from '@angular/core';\r\nimport { Observable, of } from 'rxjs';\r\nimport { switchMap } from 'rxjs/operators';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { CurrentConditions } from '../interfaces/current-conditions.type';\r\nimport { ConditionsAndZip } from '../interfaces/conditions-and-zip.type';\r\nimport { Forecast } from '../interfaces/forecast.type';\r\nimport { LocationService } from './location.service';\r\nimport { CacheService } from './cache.service';\r\nimport { LocationAction } from '../interfaces/location-state.type';\r\n\r\n@Injectable()\r\nexport class WeatherService {\r\n\r\n  static URL = 'https://api.openweathermap.org/data/2.5';\r\n  static APPID = '5a4b2d457ecbef9eb2a71e480b947604';\r\n  static ICON_URL = 'https://raw.githubusercontent.com/udacity/Sunshine-Version-2/sunshine_master/app/src/main/res/drawable-hdpi/';\r\n\r\n  private currentConditions = signal<ConditionsAndZip[]>([]);\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private locationService: LocationService,\r\n    private cacheService: CacheService) {\r\n    effect(() => {\r\n      const state = this.locationService.locationState();\r\n      switch (state.action) {\r\n        case LocationAction.ADD:\r\n          this.addCurrentConditions(state.zipcodeAdded);\r\n          break;\r\n        case LocationAction.REMOVE:\r\n          this.removeCurrentConditions(state.zipcodeIndexRemoved);\r\n          break;\r\n        default:\r\n          for (let l of state.locations) {\r\n            this.addCurrentConditions(l);\r\n          }\r\n      }\r\n    }, { allowSignalWrites: true });\r\n  }\r\n\r\n  private addCurrentConditions(zipcode: string): void {\r\n    if (zipcode) {\r\n      const url = `${WeatherService.URL}/weather?zip=${zipcode},us&units=imperial&APPID=${WeatherService.APPID}`;\r\n      const data = this.cacheService.get(url);\r\n      // Use the data from cache if exists and the time is not expired\r\n      if (data !== null) {\r\n        this.currentConditions.mutate(conditions => conditions.push({ zip: zipcode, data }));\r\n      } else {\r\n        // Request to get the current conditions data from the API. Note the use of backticks and an expression to insert the zipcode\r\n        this.http.get<CurrentConditions>(url)\r\n          .pipe(\r\n            switchMap(response => {\r\n              // Cache data\r\n              this.cacheService.put({\r\n                key: url,\r\n                data: response,\r\n              });\r\n              return of<CurrentConditions>(response);\r\n            })\r\n          )\r\n          .subscribe(data => this.currentConditions.mutate(conditions => conditions.push({ zip: zipcode, data })));\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Remove a condition by index\r\n   * @param index \r\n   */\r\n  private removeCurrentConditions(index: number): void {\r\n    this.currentConditions.mutate(conditions => {\r\n      conditions.splice(index, 1);\r\n    });\r\n  }\r\n\r\n  getCurrentConditions(): Signal<ConditionsAndZip[]> {\r\n    return this.currentConditions.asReadonly();\r\n  }\r\n\r\n  getForecast(zipcode: string): Observable<Forecast> {\r\n    const url = `${WeatherService.URL}/forecast/daily?zip=${zipcode},us&units=imperial&cnt=5&APPID=${WeatherService.APPID}`;\r\n    const data = this.cacheService.get(url);\r\n    // Return data from cache if exists and the cache time is not expired\r\n    if (data !== null) {\r\n      return of<Forecast>(data)\r\n    }\r\n    // Request to get the forecast data from the API. Note the use of backticks and an expression to insert the zipcode\r\n    return this.http.get<Forecast>(url)\r\n      .pipe(\r\n        switchMap(response => {\r\n          // Cache data\r\n          this.cacheService.put({\r\n            key: url,\r\n            data: response,\r\n          });\r\n          return of<Forecast>(response);\r\n        })\r\n      );\r\n  }\r\n\r\n  getWeatherIcon(id: number): string {\r\n    if (id >= 200 && id <= 232)\r\n      return WeatherService.ICON_URL + \"art_storm.png\";\r\n    else if (id >= 501 && id <= 511)\r\n      return WeatherService.ICON_URL + \"art_rain.png\";\r\n    else if (id === 500 || (id >= 520 && id <= 531))\r\n      return WeatherService.ICON_URL + \"art_light_rain.png\";\r\n    else if (id >= 600 && id <= 622)\r\n      return WeatherService.ICON_URL + \"art_snow.png\";\r\n    else if (id >= 801 && id <= 804)\r\n      return WeatherService.ICON_URL + \"art_clouds.png\";\r\n    else if (id === 741 || id === 761)\r\n      return WeatherService.ICON_URL + \"art_fog.png\";\r\n    else\r\n      return WeatherService.ICON_URL + \"art_clear.png\";\r\n  }\r\n\r\n}\r\n\r\n\r\n","// The file contents for the current environment will overwrite these during build.\r\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\r\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\r\n// The list of which env maps to which file can be found in `.angular-cli.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `::ng-deep ngb-modal-backdrop {\r\n    z-index: 1050 !important;\r\n  }`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/components/cache-time-entry/cache-time-entry.component.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,wBAAwB;EAC1B\",\"sourcesContent\":[\"::ng-deep ngb-modal-backdrop {\\r\\n    z-index: 1050 !important;\\r\\n  }\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.current-conditions-card {\r\n    display: flex;\r\n    border: 1px solid #e3e3e3;\r\n    border-radius: 4px;\r\n    background-color: #f5f5f5;\r\n    padding: 20px !important;\r\n}\r\n\r\n.current-conditions-data {\r\n    background-color: inherit;\r\n    float: left;\r\n    width: 50%;\r\n}\r\n\r\n.current-conditions-data .link-forecast {\r\n    margin-top: 8px;\r\n    font-size: 16px;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/components/current-conditions-data/current-conditions-data.component.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,aAAa;IACb,yBAAyB;IACzB,kBAAkB;IAClB,yBAAyB;IACzB,wBAAwB;AAC5B;;AAEA;IACI,yBAAyB;IACzB,WAAW;IACX,UAAU;AACd;;AAEA;IACI,eAAe;IACf,eAAe;AACnB\",\"sourcesContent\":[\".current-conditions-card {\\r\\n    display: flex;\\r\\n    border: 1px solid #e3e3e3;\\r\\n    border-radius: 4px;\\r\\n    background-color: #f5f5f5;\\r\\n    padding: 20px !important;\\r\\n}\\r\\n\\r\\n.current-conditions-data {\\r\\n    background-color: inherit;\\r\\n    float: left;\\r\\n    width: 50%;\\r\\n}\\r\\n\\r\\n.current-conditions-data .link-forecast {\\r\\n    margin-top: 8px;\\r\\n    font-size: 16px;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.close {\r\n  cursor: pointer;\r\n}\r\n\r\n.flex {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/components/current-conditions/current-conditions.component.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,eAAe;AACjB;;AAEA;EACE,aAAa;EACb,8BAA8B;AAChC\",\"sourcesContent\":[\".close {\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.flex {\\r\\n  display: flex;\\r\\n  justify-content: space-between;\\r\\n}\\r\\n\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.icon {\r\n  width: 45px;\r\n  height: 45px;\r\n  position: absolute;\r\n  right: 20px;\r\n  top: -2px;\r\n}\r\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/components/forecasts-list/forecasts-list.component.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,WAAW;EACX,SAAS;AACX\",\"sourcesContent\":[\".icon {\\r\\n  width: 45px;\\r\\n  height: 45px;\\r\\n  position: absolute;\\r\\n  right: 20px;\\r\\n  top: -2px;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.tab-close {\r\n    cursor: pointer;\r\n    float: right;\r\n}\r\n\r\n.nav-link {\r\n    background-color: #f5f5f5;;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/components/tab-group/tab-group.component.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,eAAe;IACf,YAAY;AAChB;;AAEA;IACI,yBAAyB;AAC7B\",\"sourcesContent\":[\".tab-close {\\r\\n    cursor: pointer;\\r\\n    float: right;\\r\\n}\\r\\n\\r\\n.nav-link {\\r\\n    background-color: #f5f5f5;;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.tab-item {\r\n    width: 100%;\r\n    text-align: left;\r\n    padding: 20px !important;\r\n    border: 2px solid;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/components/tab-item/tab-item.component.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,WAAW;IACX,gBAAgB;IAChB,wBAAwB;IACxB,iBAAiB;AACrB\",\"sourcesContent\":[\".tab-item {\\r\\n    width: 100%;\\r\\n    text-align: left;\\r\\n    padding: 20px !important;\\r\\n    border: 2px solid;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.zipcode-card {\r\n    background-color: #f5f5f5;\r\n    margin-bottom: 20px !important;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/components/zipcode-entry/zipcode-entry.component.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,yBAAyB;IACzB,8BAA8B;AAClC\",\"sourcesContent\":[\".zipcode-card {\\r\\n    background-color: #f5f5f5;\\r\\n    margin-bottom: 20px !important;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n"],"names":["Component","NgbModal","CacheTimeEntryComponent","AppComponent","_class","constructor","modalService","openCacheTimeModal","open","__decorate","selector","template","__NG_CLI_RESOURCE__0","BrowserModule","InjectionToken","NgModule","FormsModule","ZipcodeEntryComponent","LocationService","ForecastsListComponent","WeatherService","CurrentConditionsComponent","MainPageComponent","RouterModule","routing","HttpClientModule","ServiceWorkerModule","environment","TabItemComponent","TabGroupComponent","CommonModule","CacheService","CurrentConditionsDataComponent","CACHE_TIME_MINUTES","AppModule","imports","register","enabled","production","declarations","providers","provide","useValue","bootstrap","appRoutes","path","component","forRoot","NgbActiveModal","cacheService","activeModal","ngOnInit","model","cacheTime","getCacheTime","save","setCacheTime","cleanLocalStorage","close","Input","computed","inject","weatherService","locationService","currentConditionsByZip","getCurrentConditions","currentConditionsPresents","length","removeLocation","index","ActivatedRoute","route","params","subscribe","zipcode","getForecast","data","forecast","ContentChildren","EventEmitter","Output","isClosable","onCloseTab","ngAfterContentInit","items","activeTabs","filter","tab","isActive","activateTabItem","first","toArray","forEach","closeTab","emit","args","_tabActive","setTimeout","service","addLocation","LocationAction","Inject","Injectable","get","key","item","localStorage","getItem","record","JSON","parse","now","Date","getTime","hasExpiration","expiration","value","put","opts","expirationMins","expirationMS","stringify","setItem","remove","removeItem","clear","signal","LOCATIONS","_locations","locationState","locations","locString","set","push","update","state","action","ADD","zipcodeAdded","splice","mutate","REMOVE","zipcodeIndexRemoved","effect","of","switchMap","HttpClient","WeatherService_1","http","currentConditions","addCurrentConditions","removeCurrentConditions","l","allowSignalWrites","url","URL","APPID","conditions","zip","pipe","response","asReadonly","getWeatherIcon","id","ICON_URL","enableProdMode","platformBrowserDynamic","bootstrapModule"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}